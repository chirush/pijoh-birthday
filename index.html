<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Birthday Page</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    @font-face {
      font-family: 'Handcaps';
      src: url('font/Handcaps.otf') format('opentype');
    }

    @font-face {
      font-family: 'Beachday';
      src: url('font/beachday.ttf') format('truetype');
    }

    .beachday {
      font-family: 'Beachday', cursive;
    }

    .handcaps {
      font-family: 'Handcaps', cursive;
    }
  </style>
</head>
<body class="handcaps bg-cover bg-center min-h-screen" style="background-image: url('background/bg1.png');">
  <audio id="birthdaySound" src="birthday.mp3" preload="auto"></audio>

  <div class="flex flex-col items-center justify-center min-h-screen text-center relative overflow-hidden px-4">
    <div id="countdown" class="flex flex-col items-center">
      <h1 class="beachday text-7xl font-extrabold text-blue-700 mb-2" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.4);">PIWJOUH</h1>
      <h2 class="beachday text-8xl font-extrabold text-white mb-6" style="text-shadow: 2px 2px 6px rgba(0,0,0,0.5);">BIRTHDAY</h2>
      <p class="max-w-xl text-xl text-gray-700 mb-6">Seorang Piwjouh a.k.a Ash U akan berulang tahun pada</p>
      <div class="flex gap-8 text-blue-900 text-2xl font-semibold mb-8">
        <div class="text-center">
          <div id="days" class="text-4xl font-bold">00</div>
          <div class="text-sm">Hari</div>
        </div>
        <div class="text-center">
          <div id="hours" class="text-4xl font-bold">00</div>
          <div class="text-sm">Jam</div>
        </div>
        <div class="text-center">
          <div id="minutes" class="text-4xl font-bold">00</div>
          <div class="text-sm">Menit</div>
        </div>
        <div class="text-center">
          <div id="seconds" class="text-4xl font-bold">00</div>
          <div class="text-sm">Detik</div>
        </div>
      </div>
      <a href="#" onclick="handleClick(event)" class="bg-white text-blue-700 font-bold px-6 py-3 rounded-full shadow-md hover:bg-blue-200 transition">Mulai</a>
    </div>

    <div id="birthdayMessage" class="hidden flex flex-col items-center">
      <h1 class="beachday text-7xl font-extrabold text-white drop-shadow-2xl mb-2" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.4);">HAPPY BIRTHDAY</h1>
      <h2 class="beachday text-7xl font-extrabold text-blue-700 drop-shadow-2xl mb-6" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.4);">PIWJOUH</h2>
      <a href="#" onclick="handleClick(event)" class="bg-white text-blue-700 font-bold px-6 py-3 rounded-full shadow-md hover:bg-blue-200 transition">Klik disini</a>
    </div>

    <div id="customPopup" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
      <div class="bg-white text-blue-800 text-xl px-8 py-6 rounded-xl shadow-lg">
        <p>Sabar cogg ðŸ˜’</p>
        <button onclick="closePopup()" class="mt-4 bg-white text-blue-700 font-bold px-6 py-3 rounded-full shadow-md hover:bg-blue-200 transition">Oke</button>
      </div>
    </div>

    <div id="videoPopup" class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 hidden">
      <div class="bg-white rounded-xl overflow-hidden shadow-lg max-w-3xl w-full m-4">
        <div class="text-center px-6 pt-6">
          <h3 class="bg-white text-blue-800 text-3xl px-8 py-6 rounded-xl">Happy Birthday Pijohh!!</h3>
        </div>
        <div class="mx-4 mt-4 mb-2 rounded-lg overflow-hidden">
          <video id="localVideo" class="w-full rounded-lg h-[350px]" autoplay controls loop>
            <source src="hbd.mp4" type="video/mp4">
          </video>
        </div>
        <div class="flex justify-center p-4">
          <a href="hbdeh.html" class="bg-white text-blue-700 font-bold px-6 py-3 rounded-full shadow-md hover:bg-blue-200 transition">Lanjut</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    const targetDate = new Date("2025-08-05T00:00:00");
    const endDate = new Date("2025-08-06T00:00:00");

    function updateCountdown() {
      const now = new Date();
      const diff = targetDate - now;
      const countdownEl = document.getElementById("countdown");
      const birthdayEl = document.getElementById("birthdayMessage");

      if (diff <= 0) {
        countdownEl.classList.add("hidden");
        birthdayEl.classList.remove("hidden");
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      document.getElementById('days').textContent = String(days).padStart(2, '0');
      document.getElementById('hours').textContent = String(hours).padStart(2, '0');
      document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
      document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);

    function handleClick(event) {
      event.preventDefault();
      const now = new Date();

      if (now >= targetDate && now < endDate) {
        document.getElementById('videoPopup').classList.remove('hidden');
        document.getElementById('localVideo').play();
        document.getElementById('birthdaySound').play();
        launchConfetti();
      } else {
        document.getElementById('customPopup').classList.remove('hidden');
      }
    }

    function closePopup() {
      document.getElementById('customPopup').classList.add('hidden');
    }

    function closeVideo() {
      document.getElementById('videoPopup').classList.add('hidden');
      const video = document.getElementById('localVideo');
      video.pause();
      video.currentTime = 0;
    }

    function launchConfetti() {
      const duration = 3000;
      const end = Date.now() + duration;

      (function frame() {
        confetti({
          particleCount: 7,
          angle: 60,
          spread: 55,
          origin: { x: 0 },
        });
        confetti({
          particleCount: 7,
          angle: 120,
          spread: 55,
          origin: { x: 1 },
        });

        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      })();
    }
  </script>
</body>
</html>
